<!DOCTYPE html>
<html>
<head>
  <title>ABC Church</title>
  <link rel="stylesheet" type="text/css" href="style.css">

  <script>
    function myFunction() {
      // get the input values
      const member = document.querySelector('#member-info').value;
      const contribution = document.querySelector('#contribution-info').value;
      const card = document.querySelector('#card-info').value;
      const zip = document.querySelector('#zip-info').value;
    
      const encodedMember = encodeURIComponent(member);
      const encodedContribution = encodeURIComponent(contribution);
      const encodedCard = encodeURIComponent(member);
      const encodedZip = encodeURIComponent(contribution);
      const url = `ceremony-info.html?member=${encodedMember}&contribution=${encodedContribution}&card=${encodedCard}&zip=${encodedZip}`;
    
      if (member && contribution && card && zip && (card.length == 16)) {
        // create the confirmation message with ceremony type and date
        const message = `Request Confirmed for: ${member} with contribution of ${contribution}`;
        // show the confirmation message
        alert(message);
    
        const formData = {
          member,
          contribution,
          card,
          zip
        };
    
        generateReport(formData);
        return;
      }

      if (card.length != 16) {
        // create the confirmation message with ceremony type and date
        const message = `Incorrect card`;
        // show the confirmation message
        alert(message);
        return;
      }
    
      // create the confirmation message with ceremony type and date
      const message = `Incorrect info`;
      // show the confirmation message
      alert(message);
    }
    
    function generateReport(formData) {
      const reportData = `
        <h1>Payment Confirmation</h1>
        <p><strong>Member Name:</strong> ${formData.member}</p>
        <p><strong>Amount:</strong> ${formData.contribution}</p>
        <p><strong>Thank you!</strong></p>`;
    
      const reportWindow = window.open('', 'Payment Confirmation', 'width=600,height=400');
      reportWindow.document.write(reportData);
    }
    
    </script>

</head>
<body>
  <header>
    <h1>ABC Church</h1>
    <nav>
      <ul>
        <li><a href="main.html">Home</a></li>
        <li><a href="reports.html">Reports</a></li>
        <li class="dropdown">
          <a href="services.html" class="dropbtn">Services</a>
        </li>
        <li><a href="sermons.html">Sermons</a></li>
        <li><a href="contribution.html">Contribution</a></li>
        <li><a href="calendar.html">Calendar</a></li>
        <li><a href="#">Contact Us</a></li>
        <li><a href="member.html">Member Info</a></li>
        <li><a href="index.html">Sign out</a></li>
      </ul>
    </nav>
  </header>

  <section class="ceremony-request">
    <h2>Contribution</h2>
    <form id="ceremony-form">
      <label for="member-info">Name:</label>
      <input id="member-info" name="member-info">
      <label for="contribution-info">Contribution Amount:</label>
      <input id="contribution-info" name="member-info">
      <label for="card-info">Card Number:</label>
      <input id="card-info" name="ceremony-info">
      <label for="zip-info">Zip Code:</label>
      <input id="zip-info" name="ceremony-info">
      <input onclick="myFunction()" type="submit" value="Confirm Payment">
      <input onclick="window.open('https://docs.google.com/document/d/1Dlv4p__AdAn2iVgrM4xry4Yq-HIVzUrDw0YkOHCrHck/edit?usp=sharing', '_blank')" type="submit" value="Generate report">

    </form>
  </section>

  <div class="separator"></div>

  <footer>
    <p> 2023 ABC Church. All rights reserved.</p>
  </footer>
</body>
</html>